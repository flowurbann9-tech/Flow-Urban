<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Flow Urban | Authentic store</title>
  <meta name="theme-color" content="#0b0b0f" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />

  <style>
    /* ===== LOADER (cuadro grande + barra pequeÃ±a) ===== */
    #preloader{
      position:fixed; inset:0; z-index:9999;
      display:grid; place-items:center;
      background:#0b0b0f;
    }
    #preloader.is-hidden{opacity:0; pointer-events:none; transition:opacity .25s ease;}
    .pre-box{
      width:min(10cm, 92vw);
      height:min(5cm, 42vh);
      display:flex; flex-direction:column;
      justify-content:center; align-items:center;
      gap:10px;
      padding:16px 16px;
      border-radius:18px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(201,162,39,.35);
      box-shadow:0 18px 60px rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
    }
    .pre-img{
      width:75%;
      max-width:360px;
      height:auto;
      object-fit:contain;
      display:block;
      border-radius:12px;
      filter: drop-shadow(0 10px 25px rgba(0,0,0,.55));
    }
    .pre-bar{
      width:72%;
      height:6px;                 /* barra mÃ¡s pequeÃ±a */
      border-radius:999px;
      background:rgba(255,255,255,.14);
      overflow:hidden;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
    }
    .pre-bar span{
      display:block; height:100%; width:35%;
      border-radius:999px;
      background: linear-gradient(90deg,#c9a33a,#f3d36a,#c9a33a);
      animation: preMove 1.05s infinite ease-in-out;
    }
    @keyframes preMove{
      0%{transform:translateX(-80%); opacity:.7;}
      50%{opacity:1;}
      100%{transform:translateX(260%); opacity:.8;}
    }
    .pre-txt{
      color:rgba(255,255,255,.86);
      font-weight:800;
      letter-spacing:.02em;
      font-size:14px;
    }

    /* FLOW URBAN en una sola lÃ­nea (header) */
    .brand__title{white-space:nowrap;}
  </style>
</head>

<body>
  <!-- LOADER: muestra tu imagen mientras carga -->
  <div id="preloader" aria-label="Cargando Flow Urban">
    <div class="pre-box">
      <!-- Cambia el nombre si tu archivo se llama distinto -->
      <img class="pre-img" src="assets/loader.png" alt="Flow Urban" onerror="this.style.display='none'">
      <div class="pre-bar"><span></span></div>
      <div class="pre-txt">Cargando Flow Urban...</div>
    </div>
  </div>

  <!-- TOPBAR -->
  <div class="topbar">
    <div class="topbar__inner">
      <span>ðŸšš EnvÃ­os a todo el paÃ­s</span>
      <span class="sep">â€¢</span>
      <a id="waLink1" class="topbar__link" href="#" target="_blank" rel="noopener">ðŸ“² WhatsApp Ventas 1</a>
      <span class="sep">â€¢</span>
      <a id="waLink2" class="topbar__link" href="#" target="_blank" rel="noopener">ðŸ“² WhatsApp Ventas 2</a>
    </div>
  </div>

  <!-- HEADER -->
  <header class="siteHeader">
    <div class="siteHeader__inner">
      <a class="brand" href="#inicio" aria-label="Inicio">
        <img class="brand__logo" src="assets/logo.png" alt="Flow Urban" onerror="this.style.display='none'">
        <div class="brand__text">
          <div class="brand__title">FLOW URBAN</div>
          <div class="brand__sub">Authentic store</div>
        </div>
      </a>

      <!-- âœ… ESTE ID ES CLAVE PARA app.js -->
      <button id="openCartBtn" class="cartBtn" aria-label="Abrir carrito">
        ðŸ›’ <span id="cartCount" class="cartCount">0</span>
      </button>
    </div>

    <nav class="nav">
      <a href="#inicio">Inicio</a>
      <a href="#catalogo">CatÃ¡logo</a>
      <a href="#contacto">Contacto</a>
    </nav>
  </header>

  <!-- HERO -->
  <main id="inicio">
    <section class="hero">
      <div class="heroCard">
        <h1 class="heroTitle">FLOW URBAN</h1>
        <p class="heroSub">Streetwear autÃ©ntico. Oversize, bÃ¡sicos y drops con flow.</p>
        <div class="heroBtns">
          <a class="btn btnPrimary" href="#catalogo">Ver catÃ¡logo</a>
          <a class="btn btnGhost" href="#contacto">Hablar por WhatsApp</a>
        </div>
        <div class="heroChips">
          <span class="chip">ðŸ”¥ Nuevos drops</span>
          <span class="chip">ðŸ§µ Calidad premium</span>
          <span class="chip">ðŸšš EnvÃ­os</span>
          <span class="chip">ðŸ’¬ Pedido por WhatsApp</span>
        </div>
      </div>
    </section>

    <!-- CATALOGO -->
    <section id="catalogo" class="section">
      <div class="container">
        <div class="sectionHead">
          <h2 class="sectionTitle">CatÃ¡logo</h2>
          <div class="muted"><span id="resultsCount">0</span> productos</div>
        </div>

        <div class="filters">
          <label class="field">
            <span>Buscar</span>
            <input id="q" type="search" placeholder="Ej: hoodie, oversize, negro..." />
          </label>

          <label class="field">
            <span>CategorÃ­a</span>
            <select id="category"></select>
          </label>

          <label class="field">
            <span>Orden</span>
            <select id="sort">
              <option value="featured">Destacados</option>
              <option value="price_asc">Precio: menor a mayor</option>
              <option value="price_desc">Precio: mayor a menor</option>
              <option value="name_asc">Nombre: A-Z</option>
            </select>
          </label>

          <button id="clearFilters" class="btn btnPrimary">Limpiar</button>
        </div>

        <!-- âœ… ESTE ID ES CLAVE PARA app.js -->
        <div id="grid" class="grid"></div>
      </div>
    </section>

    <!-- CONTACTO / REDES -->
    <section id="contacto" class="section">
      <div class="container">
        <h2 class="sectionTitle">Contacto</h2>

        <div class="card">
          <p id="waHint" class="muted">Ventas 1: â€” | Ventas 2: â€”</p>

          <div class="row">
            <a id="waLink1" class="btn btnPrimary" href="#" target="_blank" rel="noopener">WhatsApp Ventas 1</a>
            <a id="waLink2" class="btn btnPrimary" href="#" target="_blank" rel="noopener">WhatsApp Ventas 2</a>
          </div>

          <div class="row" style="margin-top:10px;">
            <a id="igLink" class="btn btnGhost" href="#" target="_blank" rel="noopener">Instagram</a>
            <a id="ttLink" class="btn btnGhost" href="#" target="_blank" rel="noopener">TikTok</a>
          </div>
        </div>

        <div class="card" style="margin-top:14px;">
          <h3 style="margin:0 0 8px;">Pedido</h3>
          <form id="checkoutForm" class="form">
            <label class="field">
              <span>Nombre</span>
              <input id="cName" required placeholder="Tu nombre" />
            </label>

            <label class="field">
              <span>TelÃ©fono</span>
              <input id="cPhone" required placeholder="Ej: 09..." />
            </label>

            <label class="field">
              <span>DirecciÃ³n</span>
              <input id="cAddress" required placeholder="Tu direcciÃ³n" />
            </label>

            <label class="field">
              <span>Notas</span>
              <input id="cNotes" placeholder="Color, talla, referencia..." />
            </label>

            <button class="btn btnPrimary" type="submit">Pedir por WhatsApp</button>
            <button id="clearCart" class="btn btnGhost" type="button">Vaciar carrito</button>
          </form>
        </div>

        <footer class="footer">
          <small>Â© <span id="year"></span> Flow Urban</small>
        </footer>
      </div>
    </section>
  </main>

  <!-- CARRITO (DRAWER) -->
  <div id="cartDrawer" class="drawer" aria-hidden="true" data-close="true">
    <div class="drawer__panel" role="dialog" aria-label="Carrito" data-close="false">
      <div class="drawer__top">
        <strong>Tu carrito</strong>
        <button class="iconBtn" type="button" aria-label="Cerrar" data-close="true">âœ•</button>
      </div>

      <div id="cartItems" class="drawer__items"></div>

      <div class="drawer__totals">
        <div class="line"><span>Subtotal</span><strong id="subtotal">$0.00</strong></div>
        <div class="line"><span>EnvÃ­o</span><strong id="shipping">A confirmar</strong></div>
        <div class="line total"><span>Total</span><strong id="total">$0.00</strong></div>
      </div>
    </div>
  </div>

  <!-- MODAL PRODUCTO -->
  <div id="productModal" class="modal" aria-hidden="true" data-close="true">
    <div class="modal__panel" data-close="false" role="dialog" aria-label="Producto">
      <button class="iconBtn modal__close" type="button" aria-label="Cerrar" data-close="true">âœ•</button>

      <img id="pmImg" class="modal__img" src="" alt="Producto" />
      <div class="modal__body">
        <div class="modal__meta">
          <span id="pmBadge" class="badge" style="display:none;"></span>
          <span id="pmCat" class="muted"></span>
        </div>
        <h3 id="pmTitle" class="modal__title"></h3>
        <p id="pmDesc" class="muted"></p>

        <div class="modal__priceRow">
          <strong id="pmPrice"></strong>
          <span id="pmSku" class="muted"></span>
        </div>

        <div class="modal__controls">
          <label class="field">
            <span>Talla</span>
            <select id="pmSize"></select>
          </label>

          <label class="field">
            <span>Cantidad</span>
            <input id="pmQty" type="number" min="1" value="1" />
          </label>
        </div>

        <button id="pmAdd" class="btn btnPrimary" type="button">Agregar al carrito</button>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div id="toast" class="toast" aria-live="polite"></div>

  <script>
    // Ocultar loader al cargar (y respaldo por si algo falla)
    function hideLoader(){
      const p=document.getElementById("preloader");
      if(!p) return;
      p.classList.add("is-hidden");
      setTimeout(()=>p.remove(), 320);
    }
    window.addEventListener("load", hideLoader);
    setTimeout(hideLoader, 8000);
  </script>

  <!-- âœ… Tu app usa imports, por eso module -->
  <script type="module" src="app.js"></script>
</body>
</html>
