<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Flow Urban | Authentic store</title>

  <link rel="stylesheet" href="styles.css" />

  <!-- Preload im√°genes para que cargue m√°s r√°pido -->
  <link rel="preload" as="image" href="assets/hero.jpg">
  <link rel="preload" as="image" href="assets/logo.png">
  <link rel="preload" as="image" href="assets/loader.png">
</head>

<body>

  <!-- LOADER (pantalla de carga) -->
  <div id="loader" class="loader" aria-hidden="false">
    <div class="loader-card">
      <img class="loader-img" src="assets/loader.png" alt="Flow Urban" />
      <div class="loader-text">Cargando Flow Urban‚Ä¶</div>
      <div class="loader-bar"><div class="loader-bar-fill"></div></div>
    </div>
  </div>

  <!-- TOP BAR (la barrita negra arriba) -->
  <div class="topbar">
    <div class="topbar-inner">
      <span>üöö Env√≠os a todo el pa√≠s</span>
      <span class="dot">‚Ä¢</span>
      <!-- IMPORTANTE: este ID lo usa app.js -->
      <a id="waLink1" class="topbar-link" href="#" target="_blank" rel="noopener">üì≤ WhatsApp</a>
      <span class="dot">‚Ä¢</span>
      <span>üî• Nuevos drops cada semana</span>
    </div>
  </div>

  <!-- HEADER -->
  <header class="header">
    <div class="header-inner">
      <div class="brand">
        <img class="brand-logo" src="assets/logo.png" alt="Flow Urban" />
        <div class="brand-text">
          <div class="brand-title">FLOW URBAN</div>
          <div class="brand-subtitle">Authentic store</div>
        </div>
      </div>

      <div class="header-actions">
        <!-- Bot√≥n WhatsApp grande (arriba) -->
        <a id="waLink2" class="btn btn-outline btn-whatsapp" href="#" target="_blank" rel="noopener">WHATSAPP</a>

        <!-- Carrito (UN SOLO carrito) -->
        <button id="openCartBtn" class="btn btn-cart" type="button" aria-label="Abrir carrito">
          <span class="cart-ico">üõí</span>
          <span id="cartCount" class="cart-badge">0</span>
        </button>
      </div>
    </div>

    <nav class="nav">
      <a href="#inicio">INICIO</a>
      <a href="#catalogo">CAT√ÅLOGO</a>
      <a href="#contacto">CONTACTO</a>
    </nav>
  </header>

  <!-- HERO -->
  <main>
    <section id="inicio" class="hero">
      <img class="hero-img" src="assets/hero.jpg" alt="Urban Nights" />

      <div class="hero-overlay">
        <h1 class="hero-title">URBAN NIGHTS</h1>
        <p class="hero-sub">
          Streetwear aut√©ntico. Oversize, b√°sicos y drops con flow.
        </p>

        <div class="hero-actions">
          <a class="btn btn-gold" href="#catalogo">SHOP NOW</a>
          <a class="btn btn-ghost" href="#catalogo">LOOKBOOK</a>
        </div>
      </div>
    </section>

    <!-- CAT√ÅLOGO -->
    <section id="catalogo" class="catalog">
      <div class="catalog-head">
        <h2 class="catalog-title">NEW DROPS</h2>
        <p class="catalog-sub">Busca tu estilo, elige talla y arma tu carrito.</p>
      </div>

      <div class="filters">
        <div class="filter">
          <label for="searchInput">Buscar</label>
          <input id="searchInput" type="text" placeholder="Ej: hoodie, oversize, negro" />
        </div>

        <div class="filter">
          <label for="categorySelect">Categor√≠a</label>
          <select id="categorySelect"></select>
        </div>

        <div class="filter">
          <label for="sortSelect">Orden</label>
          <select id="sortSelect">
            <option value="featured">Destacados</option>
            <option value="price_asc">Precio: menor a mayor</option>
            <option value="price_desc">Precio: mayor a menor</option>
            <option value="name_asc">Nombre A‚ÄìZ</option>
          </select>
        </div>

        <button id="clearFiltersBtn" class="btn btn-dark" type="button">Limpiar</button>
      </div>

      <div class="count-row">
        <div id="countLabel" class="count-label">0 productos</div>
      </div>

      <!-- GRID: aqu√≠ app.js pinta los productos -->
      <div id="productGrid" class="product-grid"></div>
    </section>

    <!-- CONTACTO -->
    <section id="contacto" class="contact">
      <h2>Contacto</h2>
      <p>¬øQuieres armar tu pedido r√°pido? Escr√≠benos por WhatsApp.</p>

      <div class="contact-actions">
        <a id="igLink" class="btn btn-outline" href="#" target="_blank" rel="noopener">Instagram</a>
        <a id="ttLink" class="btn btn-outline" href="#" target="_blank" rel="noopener">TikTok</a>
        <a id="waLink1b" class="btn btn-gold" href="#" target="_blank" rel="noopener">Hablar por WhatsApp</a>
      </div>
    </section>
  </main>

  <!-- DRAWER CARRITO -->
  <aside id="cartDrawer" class="drawer" aria-hidden="true">
    <div class="drawer-panel">
      <div class="drawer-head">
        <div class="drawer-title">Carrito</div>
        <button id="closeCartBtn" class="icon-btn" type="button" aria-label="Cerrar">‚úï</button>
      </div>

      <div id="cartItems" class="cart-items">
        <!-- app.js llena esto -->
      </div>

      <div class="drawer-foot">
        <div class="cart-total-row">
          <span>Total</span>
          <strong id="cartTotal">$0,00</strong>
        </div>

        <button id="checkoutWhatsAppBtn" class="btn btn-gold btn-full" type="button">
          Pedir por WhatsApp
        </button>
        <div class="helper">Te armamos el pedido por WhatsApp con tallas y cantidades.</div>
      </div>
    </div>
  </aside>

  <!-- MODAL PRODUCTO -->
  <dialog id="productModal" class="modal">
    <div class="modal-card">
      <button id="closeModalBtn" class="icon-btn modal-close" type="button" aria-label="Cerrar">‚úï</button>
      <div id="modalContent"></div>
    </div>
  </dialog>

  <!-- Scripts -->
  <script src="products.js"></script>
  <script src="app.js"></script>

  <!-- Fix: enlaces WhatsApp + ocultar loader r√°pido -->
  <script>
    // 1) Links extra (bot√≥n contacto ‚ÄúHablar por WhatsApp‚Äù)
    //    app.js ya setea waLink1 y waLink2; aqu√≠ solo copiamos a waLink1b.
    window.addEventListener("DOMContentLoaded", () => {
      const a1 = document.getElementById("waLink1");
      const a1b = document.getElementById("waLink1b");
      if (a1 && a1b) a1b.href = a1.href;
    });

    // 2) Loader: se quita al cargar o m√°ximo en 2.5s (para que NO se quede pegado)
    const loader = document.getElementById("loader");
    const killLoader = () => {
      if (!loader) return;
      loader.classList.add("hide");
      loader.setAttribute("aria-hidden", "true");
      setTimeout(() => loader.remove(), 450);
    };
    window.addEventListener("load", killLoader);
    setTimeout(killLoader, 2500);
  </script>
</body>
</html>
